<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ariel‚Äôs RS learning diary - 6&nbsp; Week 6 - Classification I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./week8.html" rel="next">
<link href="./week5.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./week6.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6 - Classification I</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Ariel‚Äôs RS learning diary</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Personal Introductionüòä</strong></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Week 1 - Introduction to Remote Sensing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 2 - Presentation of Sentinel-1</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3 - Corrections and Image Enhancements</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4 - Air Pollution &amp; Control Action in Beijing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5 - Introduction to GEE</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week6.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6 - Classification I</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 8 - Presentation of Sentinel-1</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="header-section-number">6.1</span> Summary</a>
  <ul class="collapse">
  <li><a href="#what-is-image-classification-in-remote-sensing" id="toc-what-is-image-classification-in-remote-sensing" class="nav-link" data-scroll-target="#what-is-image-classification-in-remote-sensing"><span class="header-section-number">6.1.1</span> What is Image Classification in Remote Sensing?</a></li>
  <li><a href="#supervised-classification-vs.-unsupervised-classification" id="toc-supervised-classification-vs.-unsupervised-classification" class="nav-link" data-scroll-target="#supervised-classification-vs.-unsupervised-classification"><span class="header-section-number">6.1.2</span> Supervised Classification vs.&nbsp;Unsupervised Classification</a></li>
  <li><a href="#supervised-classification-in-remote-sensing" id="toc-supervised-classification-in-remote-sensing" class="nav-link" data-scroll-target="#supervised-classification-in-remote-sensing"><span class="header-section-number">6.1.3</span> Supervised Classification in Remote Sensing</a></li>
  <li><a href="#unsupervised-classification-in-remote-sensing" id="toc-unsupervised-classification-in-remote-sensing" class="nav-link" data-scroll-target="#unsupervised-classification-in-remote-sensing"><span class="header-section-number">6.1.4</span> Unsupervised Classification in Remote Sensing</a></li>
  </ul></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="header-section-number">6.2</span> Reflection</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6 - Classification I</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">6.1</span> Summary</h2>
<p>This week‚Äôs lecture on ‚ÄúClassification I‚Äù immersed me into the intricate world of satellite imagery and Earth observation data, unveiling the power of classifying vast datasets to extract useful insights about our planet. Using remote sensing software, we can effectively sort satellite images into categories like water, wetlands, forests, and urban areas. This process not only aids in identifying land cover types but also in tracking environmental changes and predicting future trends with enhanced accuracy.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="week6-images/obia-cover-1265x672.gif" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Image Classification Diagram. Source: <a href="https://gisgeography.com/remote-sensing-earth-observation-guide/#UseCases">Gisgeography</a></figcaption>
</figure>
</div>
<section id="what-is-image-classification-in-remote-sensing" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="what-is-image-classification-in-remote-sensing"><span class="header-section-number">6.1.1</span> What is Image Classification in Remote Sensing?</h3>
<p>The 3 main types of image classification techniques in remote sensing are:</p>
<ul>
<li>Unsupervised image classification</li>
<li>Supervised image classification</li>
<li>Object-based image analysis</li>
</ul>
<p>Unsupervised and supervised image classification are the two most common approaches, and also they are the focus of this week.</p>
</section>
<section id="supervised-classification-vs.-unsupervised-classification" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="supervised-classification-vs.-unsupervised-classification"><span class="header-section-number">6.1.2</span> Supervised Classification vs.&nbsp;Unsupervised Classification</h3>
<p>The table below highlights the differences between unsupervised and supervised classification</p>
<table class="table">
<colgroup>
<col style="width: 24%">
<col style="width: 39%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Aspect</th>
<th style="text-align: center;">Supervised Classification</th>
<th>Unsupervised Classification</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Definition</td>
<td style="text-align: center;">z Classification guided by known training samples</td>
<td>Classification without predefined training data</td>
</tr>
<tr class="even">
<td style="text-align: center;">Training Data</td>
<td style="text-align: center;">Requires labeled training data for each class</td>
<td>No labeled training data required</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Process</td>
<td style="text-align: center;">Involves training the classifier using labeled samples</td>
<td>Involves training the classifier using labeled samples</td>
</tr>
<tr class="even">
<td style="text-align: center;">User Involvement</td>
<td style="text-align: center;">Requires user to select training samples</td>
<td>Minimal user intervention during classification</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Class Information</td>
<td style="text-align: center;">Prior knowledge of class identities is needed</td>
<td>Classes are discovered from data patterns</td>
</tr>
<tr class="even">
<td style="text-align: center;">Accuracy Assessment</td>
<td style="text-align: center;">Often results in higher accuracy due to training</td>
<td>May have lower accuracy due to lack of training</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Applicability</td>
<td style="text-align: center;">Effective for identifying specific classes</td>
<td>Suitable for exploratory data analysis</td>
</tr>
<tr class="even">
<td style="text-align: center;">Flexibility</td>
<td style="text-align: center;">Less flexible, as predefined classes are used</td>
<td>More flexible, as classes are generated dynamically</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Complexity</td>
<td style="text-align: center;">Potentially more complex due to training process</td>
<td>Generally simpler as it relies on clustering</td>
</tr>
</tbody>
</table>
</section>
<section id="supervised-classification-in-remote-sensing" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="supervised-classification-in-remote-sensing"><span class="header-section-number">6.1.3</span> Supervised Classification in Remote Sensing</h3>
<p>In supervised classification, first select representative samples for each land cover class. Then, software uses these ‚Äútraining sites‚Äù and applies them to the entire image. The training samples are key because they will determine which class each pixel inherits in the overall image.</p>
<p><img src="week6-images/supervised-classification-ikonos.png" class="img-fluid" style="width:28.0%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <img src="week6-images/supervised-diagram.png" class="img-fluid" style="width:55.0%"></p>
<p>Source: <a href="https://gisgeography.com/remote-sensing-earth-observation-guide/#UseCases">Gisgeography</a></p>
<p>The three basic steps for supervised classification are:</p>
<ol type="1">
<li><p><strong>Select training areas</strong>: for example, mark urban areas by marking them in the image. Then, continue adding training sites representative in the entire image.</p></li>
<li><p><strong>Generate signature file</strong>: for each land cover class, we continue create training samples until we have representative samples for each class. In turn, this would generate a signature file, which stores all training samples‚Äô spectral information.</p></li>
<li><p><strong>Classify</strong>: the last step is to use the signature file to run a classification. From here, we have to pick a classification algorithm such as:</p></li>
</ol>
<ul>
<li>Maximum likelihood</li>
<li>Minimum-distance</li>
<li>Principal components</li>
<li>Support vector machine (SVM)</li>
<li>Iso cluster</li>
</ul>
<p>As shown in several studies, SVM is one of the best classification algorithms in remote sensing, but each option has its own advantages (<a href="https://doi.org/10.1080/01431160512331314083">Pal &amp; Mather, 2005</a>).</p>
</section>
<section id="unsupervised-classification-in-remote-sensing" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="unsupervised-classification-in-remote-sensing"><span class="header-section-number">6.1.4</span> Unsupervised Classification in Remote Sensing</h3>
<p>In unsupervised classification, it first groups pixels into ‚Äúclusters‚Äù based on their properties. Then, classify each cluster with a land cover class. It is the most basic technique.</p>
<p><img src="week6-images/unsupervised-classification.png" class="img-fluid" style="width:28.0%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <img src="week6-images/unsupervised-diagram.png" class="img-fluid" style="width:30.0%"></p>
<p>Source: <a href="https://gisgeography.com/remote-sensing-earth-observation-guide/#UseCases">Gisgeography</a></p>
<p>The two basic steps for unsupervised classification are:</p>
<ol type="1">
<li><strong>Generate clusters</strong></li>
<li><strong>Assign classes</strong></li>
</ol>
<p>Using remote sensing software, we first create ‚Äúclusters‚Äù. Some of the common image clustering algorithms are:</p>
<ul>
<li>K-means</li>
<li>ISODATA</li>
</ul>
<p>After picking a clustering algorithm, we need to identify the number of groups we want to generate. For example, we can create 6, 22, or 39 clusters. Fewer clusters have more resembling pixels within groups, with more clusters increase the variability within groups.</p>
<p>To be clear, these are unclassified clusters. The next step is to manually assign land cover classes to each cluster. For example, if we want to classify vegetation and non-vegetation, we can select the clusters that represent them best.</p>
<p>This video below shows how to perform unsupervised image classification in ArcGIS Pro, uses clustering algorithms to group similar pixels in an image without using any prior training data.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/fZwdsSNr7vk" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
</section>
<section id="reflection" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="reflection"><span class="header-section-number">6.2</span> Reflection</h2>
<ol start="4" type="1">
<li><strong>Machine Learning in EO Data Analysis</strong>:
<ul>
<li>Exploration of classification and regression trees (CART) for discrete and continuous data.</li>
<li>The role of parameters like alpha in pruning decision trees to enhance model performance.</li>
</ul></li>
<li><strong>Random Forests and SVM in Land Cover Classification</strong>:
<ul>
<li>Description of random forests for creating numerous decision trees to improve classification accuracy.</li>
<li>SVM‚Äôs application for binary classification and the use of hyperparameters for optimizing model performance.</li>
</ul></li>
<li><strong>Supervised vs.&nbsp;Unsupervised Classification</strong>:
<ul>
<li>Differences between supervised (e.g., maximum likelihood classification, SVM) and unsupervised (e.g., k-means clustering) classification methods.</li>
<li>Importance of training data in supervised learning and how clustering works in unsupervised learning.</li>
</ul></li>
</ol>
<p>provided a comprehensive overview of using EO data for land cover classification and introduced a variety of classification techniques, emphasizing the importance of machine learning methods in environmental monitoring and analysis. The lecture concluded with an encouraging note on the future of remote sensing and classification, emphasizing the ever-growing availability of high-resolution satellite imagery and advanced computational resources. This, combined with the development of more sophisticated analysis techniques, promises to further our understanding of the Earth‚Äôs surface and the dynamic processes that shape it.</p>
<p>By providing a comprehensive overview of classification in remote sensing, this lecture equipped us with the knowledge and tools to harness the power of satellite imagery for environmental monitoring, urban planning, and beyond.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./week5.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5 - Introduction to GEE</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./week8.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 8 - Presentation of Sentinel-1</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>